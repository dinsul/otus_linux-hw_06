# otus_linux-hw_06

Создать RPM-пакет и разместить его в собственном репозитории

Я решил создавать пакет с собственной программой. Так как мои
проекты устарели и требуют разрешение зависимостей, будем
писать проект с нуля.

### Задача 0 - подготовим машину и установим все необходимые пакеты.

На этом этапе нет ничего интересного. Кроме того, что у меня
возникли проблемы с g++ на centos. Поэтому устанавливаем clang.

### Задача 1 - создадим проект

Так как у нас нет сложных задач таких как:
разрешить зависимости, использовать конкретную версию библиотеки
и т.п. То проект делаем максимально простым - весь код пишем
прямо в скрипте [программа](bootstrap.sh#L12) и
[файл проекта](bootstrap.sh#L16)

### Задача 2 - соберём программу

Создаём папку для артифактов сборки (чтобы не мусорить). И запускаем
[команды](bootstrap.sh#L29) на сборку проекта.

#### Проверка

Для проверки просто [запускаем нашу программу](bootstrap.sh#L35).

В файле журнала видим [вывод нашей программы](bootstrap.log#L28).


### Задача 3 - собрать RPM-пакет

Просто выполняем [команду для сборки пакета](bootstrap.sh#L38).

#### Проверка

В файле журнала видим [ход сборки пакета](bootstrap.log#L31).
Сборщик ошибок не выдал, поверим ему и дополнительных проверок
делать не будем.

### Задача 4 - создать репозиторий

[Создаём директорию для репозитория и копируем туда RPM-пакет](bootstrap.sh#L41).
После запускаем утилиту createrepo. 

#### Проверка

В файле журнала видим [результат работы createrepo](bootstrap.log#L46).

### Задача 5 - запустить сервер с репозиторием

Для простого HTTP-сервера нам не нужны мощные инструменты -
просто запускаем [питоновский сервер](bootstrap.sh#L47) в фоновом режиме.

### Задача 6 - подключить новый репозиторий

Создаём файл репозитория и активируем его
[командой yum repolist enabled](bootstrap.sh#L51).

#### Поверка

В файле журнала видим
[результат работы yum repolist enabled и yum list](bootstrap.log#L46).

### Задача 7 - устанавливаем наше приложение через репозиторий

Выполняем установку
[командой yum install hello -y](bootstrap.sh#L56).

#### Проверка

[Запускаем нашу программу](bootstrap.sh#L58) и видим её вывод
[в файле журнала](bootstrap.log#L103).

